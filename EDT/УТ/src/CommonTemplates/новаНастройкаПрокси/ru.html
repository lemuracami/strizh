<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html xmlns:o=""><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link href="v8help://service_book/service_style" type="text/css" rel="stylesheet"></link><meta content="MSHTML 6.00.6000.21264" name="GENERATOR"></meta></head><body>
<h1 style="mso-list: none; tab-stops: 35.4pt"><span style="mso-bookmark: _Toc139198182"><a name="_Toc176167853">Приложение В. Формат файла настройки прокси по умолчанию inetcfg.xml</a></span></h1>
<p class="Paragraph0"><a name="_Toc139198188">Файл </a><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">inetcfg</span>.</span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">xml</span> позволяет задавать настройки прокси по умолчанию и имеет больший приоритет над настройками прокси по умолчанию в </span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">Windows</span>.</span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Файл располагается в каталоге </span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">CONF</span><span lang="EN-US"> </span>каталога исполняемых файлов системы 1С:Предприятие 8.1 и его наличие не является обязательным.</span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Если он отсутствует, то настройки в </span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">Windows</span> берутся из настроек </span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">InternetExplorer</span>'</span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">a</span>.</span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">В </span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">Linux</span>, если есть необходимость работать через прокси, файл </span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">inetcfg</span>.</span><span style="mso-bookmark: _Toc139198188"><span lang="EN-US" style="mso-ansi-language: EN-US">xml</span> должен присутствовать.</span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Корневой элемент InternetProxy, задающий настройки прокси по умолчанию имеет следующую структуру (атрибуты):</span></p>
<h2><span style="mso-bookmark: _Toc139198188"><a name="_Toc152063216"></a><a name="_Toc176167854"><span style="mso-bookmark: _Toc152063216">protocols</span></a></span></h2>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188"><span class="Syntax"><span style="mso-ansi-font-size: 12.0pt">protocols : строка</span></span> (необязательное) – задает имя и порт хоста для протоколов. Имеет формат: </span></p>
<p class="Syntax0"><span style="mso-bookmark: _Toc139198188">ПараметрыПроксиПротокола1 ПараметрыПроксиПротокола2 </span></p>
<p class="Syntax0"><span style="mso-bookmark: _Toc139198188"><span style="mso-tab-count: 8">                        </span>… ПараметрыПроксиПротоколаN</span></p>
<p class="Syntax0"><span style="mso-bookmark: _Toc139198188">ПараметрыПроксиПротокола:= [Протокол] “=” </span></p>
<p class="Syntax0"><span style="mso-bookmark: _Toc139198188"><span style="mso-tab-count: 10">                                 </span>хост”:”порт</span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Список параметров прокси протоколов разделен пробелами. Каждый параметр состоит из необязательного имени протокола, знака “равно”, имени хоста и порта прокси сервера разделенных двоеточием. Если имя протокола не указано, то параметры прокси используются для всех протоколов, для которых они явно не указаны. Протоколы могут иметь следующие имена: </span></p>
<p class="Bullet10" style="MARGIN-LEFT: 14.2pt; TEXT-INDENT: -14.2pt; mso-list: l58 level1 lfo100"><span style="mso-bookmark: _Toc139198188"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">      </span></span></span>http;</span></p>
<p class="Bullet10" style="MARGIN-LEFT: 14.2pt; TEXT-INDENT: -14.2pt; mso-list: l58 level1 lfo100"><span style="mso-bookmark: _Toc139198188"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">      </span></span></span>https;</span></p>
<p class="Bullet10" style="MARGIN-LEFT: 14.2pt; TEXT-INDENT: -14.2pt; mso-list: l58 level1 lfo100"><span style="mso-bookmark: _Toc139198188"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">      </span></span></span>ftp. </span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Регистр является значимым, другие имена протоколов не поддерживаются.</span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Пример: </span></p>
<p class="Source0"><font face="Courier New">protocols="http=10.1.0.8:8080 10.1.0.9:8080"</font></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">В примере для протокола http определены параметры прокси: хост – 10.1.0.8, порт – 8080. Для остальных протоколов (https, ftp): хост - 10.1.0.9, порт – 8080.</span></p>
<h2><span style="mso-bookmark: _Toc139198188"><a name="_Toc152063217"></a><a name="_Toc176167855"><span style="mso-bookmark: _Toc152063217">user</span></a></span></h2>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188"><span class="Syntax"><span style="mso-ansi-font-size: 12.0pt">user : строка</span></span></span><span style="mso-bookmark: _Toc139198188"><span style="FONT-SIZE: 16pt; mso-bidi-font-size: 12.0pt"> </span>(необязательное) – имя пользователя для аутентификации на прокси сервере. Пример: </span></p>
<p class="Source0"><font face="Courier New">user="proxyUser"</font></p>
<h2><span style="mso-bookmark: _Toc139198188"><a name="_Toc152063218"></a><a name="_Toc176167856"><span style="mso-bookmark: _Toc152063218">password</span></a></span></h2>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188"><span class="Syntax"><span style="mso-ansi-font-size: 12.0pt">password : строка</span></span></span><span style="mso-bookmark: _Toc139198188"><span class="Syntax"><span style="FONT-SIZE: 13pt; mso-bidi-font-size: 12.0pt"> </span></span>(необязательное)</span><span style="mso-bookmark: _Toc139198188"><span style="FONT-SIZE: 16pt; mso-bidi-font-size: 12.0pt"> </span>– пароль пользователя для аутентификации на прокси сервере. Пример: </span></p>
<p class="Source0"><font face="Courier New">password="proxyPassword"</font></p>
<h2><span style="mso-bookmark: _Toc139198188"><a name="_Toc152063219"></a><a name="_Toc176167857"><span style="mso-bookmark: _Toc152063219">bypassOnLocal</span></a></span></h2>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188"><span class="Syntax"><span style="mso-ansi-font-size: 12.0pt">bypassOnLocal : булево</span></span></span><span style="mso-bookmark: _Toc139198188"><span class="Syntax"><span style="FONT-SIZE: 13pt; mso-bidi-font-size: 12.0pt"> </span></span>(необязательное)</span><span style="mso-bookmark: _Toc139198188"><span style="FONT-SIZE: 16pt; mso-bidi-font-size: 12.0pt"> </span>– признак того, использовать ли прокси сервер для локальных адресов:</span></p>
<p class="Bullet10" style="MARGIN-LEFT: 14.2pt; TEXT-INDENT: -14.2pt; mso-list: l58 level1 lfo100"><span style="mso-bookmark: _Toc139198188"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">      </span></span></span>true – не использовать;</span></p>
<p class="Bullet10" style="MARGIN-LEFT: 14.2pt; TEXT-INDENT: -14.2pt; mso-list: l58 level1 lfo100"><span style="mso-bookmark: _Toc139198188"><span style="FONT-FAMILY: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt 'Times New Roman'">      </span></span></span>false – использовать. </span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Локальность адреса определяется по наличию точки в DNS имени адреса (т.е. все IP адреса не являются локальными). Поэтому может получиться так, что фактически локальный адрес не распознается как локальный. </span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Например: &lt;пользовать&gt;.&lt;домен&gt; – является в WindowsXP локальным адресом, но не распознается как локальный. Для того чтобы запретить использовать прокси для адресов, которые воспринимаются как локальные, используется следующий параметр:</span></p>
<p class="Source0"><font face="Courier New">bypassOnLocal="true"</font></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Для всех остальных адресов нужно использовать параметр – bypassOnAddresses.</span></p>
<h2><span style="mso-bookmark: _Toc139198188"><a name="_Toc152063220"></a><a name="_Toc176167858"><span style="mso-bookmark: _Toc152063220">bypassOnAddresses</span></a></span></h2>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188"><span class="Syntax"><span style="mso-ansi-font-size: 12.0pt">bypassOnAddresses : строка</span></span></span><span style="mso-bookmark: _Toc139198188"><span class="Syntax"><span style="FONT-SIZE: 13pt; mso-bidi-font-size: 12.0pt"> </span></span>(необязательное)</span><span style="mso-bookmark: _Toc139198188"><span style="FONT-SIZE: 16pt; mso-bidi-font-size: 12.0pt"> </span>– список адресов, для которых прокси не используется. Имеет формат:</span></p>
<p class="Syntax0"><span style="mso-bookmark: _Toc139198188">хост1 хост2 … хостN</span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Имена хостов разделяются пробелами. Имя хоста может содержать специальные символы маски: * – любое количество символов, ? – любой символ. Например, чтобы блокировать прокси для всех хостов домена, нужно использовать: *.&lt;имя домена&gt;. Пример: </span></p>
<p class="Source0"><font face="Courier New">bypassOnAddresses=" 127.0.0.1 *.master"</font></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">В примере для адреса 127.0.0.1 (localhost) и для всех адресов домена master прокси не используется.</span></p>
<p class="Paragraph0"><span style="mso-bookmark: _Toc139198188">Общий пример файла inetcfg.xml:</span></p>
<p class="Source0"><font face="Courier New">&lt;InternetProxy </font><o:p></o:p></p>
<p class="Source0"><font face="Courier New">protocols="http=10.1.0.8:8080 10.1.0.9:8080" </font><o:p></o:p></p>
<p class="Source0"><font face="Courier New">user="proxyUser"    </font><o:p></o:p></p>
<p class="Source0"><font face="Courier New">password="proxyPassword" </font><o:p></o:p></p>
<p class="Source0"><font face="Courier New">bypassOnLocal="true" </font><o:p></o:p></p>
<p class="Source0"><font face="Courier New">bypassOnAddresses="127.0.0.1 *. master" </font><o:p></o:p></p>
<p class="Source0"><font face="Courier New">/&gt;,</font></p>
<h2><a name="_Toc188428882">Ntlm</a><a name="_ntlm"></a></h2>
<p><span class="Syntax">Ntlm : булево</span>  —<span class="Paragraph00"> признак использования механизма NTLM-аутентификации:</span></p>
<ul><li><span class="Syntax">true</span> — <span class="Paragraph00">NTLM-аутентификация включена;</span> 
</li><li><span class="Syntax">false</span> — <span class="Paragraph00">выключена.</span> </li></ul><p><span class="Paragraph00">По умолчанию NTLM-аутентификация включена.</span></p></body></html>