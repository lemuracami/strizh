
Процедура ОбработкаПроведения(Отказ, Режим)
	
	// регистр мгУчетЗарплаты 
	//Движения.мгУчетЗарплаты.Записывать = Истина;
	//Движения.мгУчетЗарплаты.Очистить();
	//Для Каждого ТекСтрокаДанные Из Данные Цикл
	//	Движение = Движения.мгУчетЗарплаты.Добавить();
	//	Движение.Период = ПериодРегистрации;
	//	Движение.Организация = Организация;
	//	Движение.Терминал = Терминал;
	//	Движение.НачислениеУдержание = ПредопределенноеЗначение("Справочник.мгНачисленияУдержания.НачислениеСдельнойОплаты");
	//	Движение.Сотрудник = ТекСтрокаДанные.Сотрудник;
	//	Движение.Сумма = ТекСтрокаДанные.СуммаОплаты;
	//КонецЦикла;

	Движения.мгЗарплатаНачисления.Записывать = Истина;
	Движения.мгЗарплатаНачисления.Очистить();
	Для каждого ТекСтрокаДанные Из Данные Цикл
		
		Если ЗначениеЗаполнено(ТекСтрокаДанные.СуммаОплаты) Тогда
			Движение = Движения.мгЗарплатаНачисления.Добавить();
			Движение.ВидДвижения = ВидДвиженияНакопления.Приход;
			Движение.Период = ПериодРегистрации;
			Движение.Организация = ТекСтрокаДанные.Организация;
			Движение.Терминал = Терминал;
			Движение.ВидНачисления = ПредопределенноеЗначение("Справочник.мгНачисленияУдержания.НачислениеОсновное");
			Движение.Сотрудник = ТекСтрокаДанные.Сотрудник;
			Движение.Тариф = ТекСтрокаДанные.СуммаОплаты;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(ТекСтрокаДанные.СуммаЗаПодъем) Тогда
			Движение = Движения.мгЗарплатаНачисления.Добавить();
			Движение.ВидДвижения = ВидДвиженияНакопления.Приход;
			Движение.Период = ПериодРегистрации;
			Движение.Организация = ТекСтрокаДанные.Организация;
			Движение.Терминал = Терминал;
			Движение.ВидНачисления = ПредопределенноеЗначение("Справочник.мгНачисленияУдержания.НачислениеЗаПодъем");
			Движение.Сотрудник = ТекСтрокаДанные.Сотрудник;
			Движение.Тариф = ТекСтрокаДанные.СуммаЗаПодъем;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(ТекСтрокаДанные.СуммаПоФиксТарифу) Тогда
			Движение = Движения.мгЗарплатаНачисления.Добавить();
			Движение.ВидДвижения = ВидДвиженияНакопления.Приход;
			Движение.Период = ПериодРегистрации;
			Движение.Организация = ТекСтрокаДанные.Организация;
			Движение.Терминал = Терминал;
			Движение.ВидНачисления = ПредопределенноеЗначение("Справочник.мгНачисленияУдержания.ТарифПоКонтрагенту");
			Движение.Сотрудник = ТекСтрокаДанные.Сотрудник;
			Движение.Тариф = ТекСтрокаДанные.СуммаПоФиксТарифу;
		КонецЕсли;
		
	КонецЦикла;

КонецПроцедуры
