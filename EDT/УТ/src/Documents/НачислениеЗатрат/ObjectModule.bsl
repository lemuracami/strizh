
Процедура ОбработкаПроведения(Отказ, Режим)
	//{{__КОНСТРУКТОР_ДВИЖЕНИЙ_РЕГИСТРОВ
	// Данный фрагмент построен конструктором.
	// При повторном использовании конструктора, внесенные вручную изменения будут утеряны!!!

	// регистр НачислениеЗатрат 
	Движения.НачислениеЗатрат.Записывать = Истина;
	Движения.НачислениеЗатрат.Очистить();
	Для Каждого ТекСтрокаПрямыеЗатраты Из ПрямыеЗатраты Цикл
		Движение = Движения.НачислениеЗатрат.Добавить();
		//Движение.ВидДвижения = ВидДвиженияНакопления.Расход;	
		//Движение.Регистратор = ЭтотОбъект.Ссылка;
		Движение.Период = Дата;
		Движение.Партнер = ТекСтрокаПрямыеЗатраты.Партнер;
		Движение.СтатьяЗатрат = ТекСтрокаПрямыеЗатраты.СтатьяЗатрат;
		Движение.ТипЗатрат    = ТекСтрокаПрямыеЗатраты.СтатьяЗатрат.ТипЗатрат;
		Движение.КатегорияДоставки = ТекСтрокаПрямыеЗатраты.КатегорияДоставки;
		Движение.ТипЗаказа = ТекСтрокаПрямыеЗатраты.ТипЗаказа;
		Движение.ВидЗатрат = Перечисления.ВидыЗатратКомпании.ПрямыеРасходы;
		Движение.Сумма = ТекСтрокаПрямыеЗатраты.Сумма;
		Движение.Юрлицо = Справочники.Организации.НайтиПоКоду("000000001");
	КонецЦикла;

	// регистр НачислениеЗатрат 
	//Движения.НачислениеЗатрат.Записывать = Истина;
	//Движения.НачислениеЗатрат.Очистить();
	Для Каждого ТекСтрокаРаспределенныеЗатраты Из РаспределенныеЗатраты Цикл
		Движение = Движения.НачислениеЗатрат.Добавить();
		//Движение.Регистратор = ЭтотОбъект.Ссылка;
		Движение.Период = Дата;
		Движение.Партнер = ТекСтрокаРаспределенныеЗатраты.Партнер;
		Движение.СтатьяЗатрат = ТекСтрокаРаспределенныеЗатраты.СтатьяЗатрат;
		Движение.ТипЗатрат    = ТекСтрокаПрямыеЗатраты.СтатьяЗатрат.ТипЗатрат;
		Движение.КатегорияДоставки = ТекСтрокаРаспределенныеЗатраты.КатегорияДоставки;
		Движение.ТипЗаказа = ТекСтрокаРаспределенныеЗатраты.ТипЗаказа;
		Движение.ВидЗатрат = Перечисления.ВидыЗатратКомпании.РаспределяемыеРасходы;
		Движение.Сумма = ТекСтрокаРаспределенныеЗатраты.Сумма;
	КонецЦикла;

	// регистр НачислениеДоходов Приход
	Движения.НачислениеДоходов.Записывать = Истина;
	Движения.НачислениеДоходов.Очистить();
	Для Каждого ТекСтрокаДоходыКомпании Из ДоходыКомпании Цикл
		Движение = Движения.НачислениеДоходов.Добавить();
		Движение.ВидДвижения = ВидДвиженияНакопления.Приход;
		Движение.Период = Дата;
		Движение.Партнер = ТекСтрокаДоходыКомпании.Партнер;
		Движение.СтатьяДоходов = ТекСтрокаДоходыКомпании.СтатьяДоходов;
		Движение.КатегорияДоставки = ТекСтрокаДоходыКомпании.КатегорияДоставки;
		Движение.ТипЗаказа = ТекСтрокаДоходыКомпании.ТипЗаказа;
		Движение.Сумма = ТекСтрокаДоходыКомпании.Сумма;
	КонецЦикла;

	//}}__КОНСТРУКТОР_ДВИЖЕНИЙ_РЕГИСТРОВ
КонецПроцедуры
