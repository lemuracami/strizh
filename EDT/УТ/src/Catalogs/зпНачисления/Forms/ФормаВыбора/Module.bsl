
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ФиксацияДополнительныхНачисленийУдержаний = Параметры.Свойство("ФиксацияДополнительныхНачисленийУдержаний");
	Если ФиксацияДополнительныхНачисленийУдержаний Тогда
		ИмяОтбора = "БыстрыйОтбор";
		ГруппаЭлементовОтбора = ОбщегоНазначенияКлиентСервер83.СоздатьГруппуЭлементовОтбора(Список.Отбор.Элементы, ИмяОтбора, ТипГруппыЭлементовОтбораКомпоновкиДанных.ГруппаИ);
		ОбщегоНазначенияКлиентСервер83.УстановитьЭлементОтбора(ГруппаЭлементовОтбора, "ВидНачисления", Перечисления.зпВидыНачислений.ДополнительноеНачисление, ВидСравненияКомпоновкиДанных.Равно,, Истина);
		ОбщегоНазначенияКлиентСервер83.УстановитьЭлементОтбора(ГруппаЭлементовОтбора, "ДополнительноеНачислениеИспользуетсяВФиксацииНачислений", Истина, ВидСравненияКомпоновкиДанных.Равно,, Истина);
		
		Элементы.ВидНачисления.Видимость = Ложь;
		Элементы.СпособРасчета.Видимость = Ложь;
		Элементы.КоличествоРабочихЧасов.Видимость = Ложь;
		Элементы.УчетЧасовПереработки.Видимость = Ложь;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура СписокПередНачаломДобавления(Элемент, Отказ, Копирование, Родитель, Группа, Параметр)
	
	Если ФиксацияДополнительныхНачисленийУдержаний Тогда
		Отказ = Истина;
		ОткрытьФорму("Справочник.зпНачисления.Форма.ФиксацияДополнительныхНачисленийУдержаний");
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура СписокПередНачаломИзменения(Элемент, Отказ)
	
	Если ФиксацияДополнительныхНачисленийУдержаний Тогда
		Отказ = Истина;
		ОткрытьФорму("Справочник.зпНачисления.Форма.ФиксацияДополнительныхНачисленийУдержаний", Новый Структура("Ключ", Элементы.Список.ТекущиеДанные.Ссылка));
	КонецЕсли;
	
КонецПроцедуры
