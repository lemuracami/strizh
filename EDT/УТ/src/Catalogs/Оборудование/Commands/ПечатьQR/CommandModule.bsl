
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)

	ТабДок = ПечатьQR(ПараметрКоманды);
	ТабДок.Показать();
	
КонецПроцедуры

&НаСервере
Функция ПечатьQR(МассивОборудования) Экспорт

	Возврат Справочники.Оборудование.ПечатьQR(МассивОборудования);

КонецФункции
 

&НаКлиенте
Процедура КакСохранитьКартинкуСайтаЧерезHttpЗапросНаКлиенте()
 
    // Запрашивать через http можно не только html-страницы,
    // но и другие объекты, доступные нам через http,
    // например, картинки.
 
    // Сохраним на диск и покажем пользователю картинку, которая
    // размещена в интернете по адресу:
    // thumb7.shutterstock.com/display_pic_with_logo/1014806/270790184/
    // stock-photo-summer-holidays-background-sea-background-270790184.jpg
 
    Соединение = Новый HTTPСоединение("chart.googleapis.com", 80);
 
    // Get-запрос к ресурсу на сервере.
    Запрос = Новый HTTPЗапрос("/chart?choe=UTF-8&chld=H&cht=qr&chs=200x200&chl=This is a text for encode!");
    Результат = Соединение.Получить(Запрос);
 
    Сообщить("Нам вернули код " + Результат.КодСостояния);
 
    // Сама картинка - уже в теле ответа, осталось
    // только записать её в файл на диск в виде двоичных данных.
 
	//КаталогДляЭкспериментов = КаталогВременныхФайлов();
	//СоздатьКаталог(КаталогДляЭкспериментов);
    ФайлКартинки = "Z:\test.png";
 
    // Записываем картинку на диск.
    Результат.ПолучитьТелоКакДвоичныеДанные().Записать(ФайлКартинки);
 
    Сообщить("Сохранили картинку по адресу " + ФайлКартинки);
 
    // Покажем картинку пользователю.
	
КонецПроцедуры